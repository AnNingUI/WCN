var createWCNModule = (() => {
  var _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;
  
  return (
async function(moduleArg = {}) {
  var moduleRtn;

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;var readyPromise=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof WorkerGlobalScope!="undefined")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptName){scriptDirectory=_scriptName}if(scriptDirectory.startsWith("blob:")){scriptDirectory=""}else{scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}if(!(typeof window=="object"||typeof WorkerGlobalScope!="undefined"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{readAsync=async url=>{assert(!isFileURI(url),"readAsync does not work with file:// URLs");var response=await fetch(url,{credentials:"same-origin"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+" : "+response.url)}}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");if(typeof WebAssembly!="object"){err("no native wasm support detected")}var wasmMemory;var ABORT=false;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""))}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAP64,HEAPU64,HEAPF64;var runtimeInitialized=false;var dataURIPrefix="data:application/octet-stream;base64,";var isDataURI=filename=>filename.startsWith(dataURIPrefix);var isFileURI=filename=>filename.startsWith("file://");function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);if(max==0){max+=4}SAFE_HEAP_STORE((max>>2)*4,34821223,4);checkInt32(34821223);SAFE_HEAP_STORE((max+4>>2)*4,2310721022,4);checkInt32(2310721022)}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();if(max==0){max+=4}var cookie1=SAFE_HEAP_LOAD((max>>2)*4,4,1);var cookie2=SAFE_HEAP_LOAD((max+4>>2)*4,4,1);if(cookie1!=34821223||cookie2!=2310721022){abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`)}}(()=>{var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)")}function legacyModuleProp(prop,newName,incoming=true){if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get(){let extra=incoming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort(`\`Module.${prop}\` has been replaced by \`${newName}\``+extra)}})}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort(`\`Module.${prop}\` was supplied but \`${prop}\` not included in INCOMING_MODULE_JS_API`)}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency"}function hookGlobalSymbolAccess(sym,func){}function missingGlobal(sym,msg){hookGlobalSymbolAccess(sym,()=>{warnOnce(`\`${sym}\` is not longer defined by emscripten. ${msg}`)})}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");missingGlobal("asm","Please use wasmExports instead");function missingLibrarySymbol(sym){hookGlobalSymbolAccess(sym,()=>{var msg=`\`${sym}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`;var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym}msg+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${librarySymbol}')`;if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}warnOnce(msg)});unexportedRuntimeSymbol(sym)}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get(){var msg=`'${sym}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}abort(msg)}})}}var MAX_UINT8=2**8-1;var MAX_UINT16=2**16-1;var MAX_UINT32=2**32-1;var MAX_UINT53=2**53-1;var MAX_UINT64=2**64-1;var MIN_INT8=-(2**(8-1));var MIN_INT16=-(2**(16-1));var MIN_INT32=-(2**(32-1));var MIN_INT53=-(2**(53-1));var MIN_INT64=-(2**(64-1));function checkInt(value,bits,min,max){assert(Number.isInteger(Number(value)),`attempt to write non-integer (${value}) into integer heap`);assert(value<=max,`value (${value}) too large to write as ${bits}-bit value`);assert(value>=min,`value (${value}) too small to write as ${bits}-bit value`)}var checkInt8=value=>checkInt(value,8,MIN_INT8,MAX_UINT8);var checkInt16=value=>checkInt(value,16,MIN_INT16,MAX_UINT16);var checkInt32=value=>checkInt(value,32,MIN_INT32,MAX_UINT32);var checkInt64=value=>checkInt(value,64,MIN_INT64,MAX_UINT64);function dbg(...args){console.warn(...args)}function getSafeHeapType(bytes,isFloat){switch(bytes){case 1:return"i8";case 2:return"i16";case 4:return isFloat?"float":"i32";case 8:return isFloat?"double":"i64";default:abort(`getSafeHeapType() invalid bytes=${bytes}`)}}function SAFE_HEAP_STORE(dest,value,bytes,isFloat){if(dest<=0)abort(`segmentation fault storing ${bytes} bytes to address ${dest}`);if(dest%bytes!==0)abort(`alignment error storing to address ${dest}, which was expected to be aligned to a multiple of ${bytes}`);if(runtimeInitialized){var brk=_sbrk(0);if(dest+bytes>brk)abort(`segmentation fault, exceeded the top of the available dynamic heap when storing ${bytes} bytes to address ${dest}. DYNAMICTOP=${brk}`);if(brk<_emscripten_stack_get_base())abort(`brk >= _emscripten_stack_get_base() (brk=${brk}, _emscripten_stack_get_base()=${_emscripten_stack_get_base()})`);if(brk>wasmMemory.buffer.byteLength)abort(`brk <= wasmMemory.buffer.byteLength (brk=${brk}, wasmMemory.buffer.byteLength=${wasmMemory.buffer.byteLength})`)}setValue_safe(dest,value,getSafeHeapType(bytes,isFloat));return value}function SAFE_HEAP_STORE_D(dest,value,bytes){return SAFE_HEAP_STORE(dest,value,bytes,true)}function SAFE_HEAP_LOAD(dest,bytes,unsigned,isFloat){if(dest<=0)abort(`segmentation fault loading ${bytes} bytes from address ${dest}`);if(dest%bytes!==0)abort(`alignment error loading from address ${dest}, which was expected to be aligned to a multiple of ${bytes}`);if(runtimeInitialized){var brk=_sbrk(0);if(dest+bytes>brk)abort(`segmentation fault, exceeded the top of the available dynamic heap when loading ${bytes} bytes from address ${dest}. DYNAMICTOP=${brk}`);if(brk<_emscripten_stack_get_base())abort(`brk >= _emscripten_stack_get_base() (brk=${brk}, _emscripten_stack_get_base()=${_emscripten_stack_get_base()})`);if(brk>wasmMemory.buffer.byteLength)abort(`brk <= wasmMemory.buffer.byteLength (brk=${brk}, wasmMemory.buffer.byteLength=${wasmMemory.buffer.byteLength})`)}var type=getSafeHeapType(bytes,isFloat);var ret=getValue_safe(dest,type);if(unsigned)ret=unSign(ret,parseInt(type.substr(1),10));return ret}function SAFE_HEAP_LOAD_D(dest,bytes,unsigned){return SAFE_HEAP_LOAD(dest,bytes,unsigned,true)}function segfault(){abort("segmentation fault")}function alignfault(){abort("alignment fault")}function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);Module["HEAP64"]=HEAP64=new BigInt64Array(b);Module["HEAPU64"]=HEAPU64=new BigUint64Array(b)}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();setStackLimits();callRuntimeCallbacks(__ATINIT__)}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var dependenciesFulfilled=null;var runDependencyTracking={};var runDependencyWatcher=null;function addRunDependency(id){runDependencies++;Module["monitorRunDependencies"]?.(runDependencies);if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(()=>{if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err(`dependency: ${dep}`)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;Module["monitorRunDependencies"]?.(runDependencies);if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module["onAbort"]?.(what);what="Aborted("+what+")";err(what);ABORT=true;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var FS={error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){FS.error()},createDataFile(){FS.error()},createPreloadedFile(){FS.error()},createLazyFile(){FS.error()},open(){FS.error()},mkdev(){FS.error()},registerDevice(){FS.error()},analyzePath(){FS.error()},ErrnoError(){FS.error()}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;function createExportWrapper(name,nargs){return(...args)=>{assert(runtimeInitialized,`native function \`${name}\` called before runtime initialization`);var f=wasmExports[name];assert(f,`exported native function \`${name}\` not found`);assert(args.length<=nargs,`native function \`${name}\` called with ${args.length} args but expects ${nargs}`);return f(...args)}}var wasmBinaryFile;function findWasmBinary(){var f="wcn.wasm";if(!isDataURI(f)){return locateFile(f)}return f}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);if(isFileURI(wasmBinaryFile)){err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`)}abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)){try{var response=fetch(binaryFile,{credentials:"same-origin"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports}}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports["memory"];assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;return receiveInstance(result["instance"])}var info=getWasmImports();if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){err(`Module.instantiateWasm callback failed with error: ${e}`);readyPromiseReject(e)}}wasmBinaryFile??=findWasmBinary();try{var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}catch(e){readyPromiseReject(e);return Promise.reject(e)}}function wasm_create_render_pipeline(device,layout,shader,vs_entry,fs_entry,instance_stride,format_str){const dev=WebGPU.mgrDevice.get(device);const pipelineLayout=WebGPU.mgrPipelineLayout.get(layout);const shaderModule=WebGPU.mgrShaderModule.get(shader);const vsEntry=UTF8ToString(vs_entry);const fsEntry=UTF8ToString(fs_entry);const formatString=UTF8ToString(format_str);if(!dev||!pipelineLayout||!shaderModule){console.error("[WASM] Invalid objects for render pipeline creation");console.error("[WASM] dev:",!!dev,"pipelineLayout:",!!pipelineLayout,"shaderModule:",!!shaderModule);return 0}const vertexBufferLayout={arrayStride:instance_stride,stepMode:"vertex",attributes:[{shaderLocation:0,format:"float32x4",offset:0},{shaderLocation:1,format:"float32x4",offset:16},{shaderLocation:2,format:"float32x2",offset:32},{shaderLocation:3,format:"uint32",offset:40},{shaderLocation:4,format:"uint32",offset:44},{shaderLocation:5,format:"float32x2",offset:48},{shaderLocation:6,format:"float32",offset:56},{shaderLocation:7,format:"float32x2",offset:64},{shaderLocation:8,format:"float32x2",offset:72},{shaderLocation:9,format:"float32x2",offset:80},{shaderLocation:10,format:"float32x2",offset:88}]};const descriptor={label:"Unified Renderer Pipeline",layout:pipelineLayout,vertex:{module:shaderModule,entryPoint:vsEntry,buffers:[vertexBufferLayout]},primitive:{topology:"triangle-list",frontFace:"ccw",cullMode:"none"},multisample:{count:1},fragment:{module:shaderModule,entryPoint:fsEntry,targets:[{format:formatString,blend:{color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}},writeMask:15}]}};try{const pipeline=dev.createRenderPipeline(descriptor);return WebGPU.mgrRenderPipeline.create(pipeline)}catch(error){console.error("[WASM] Failed to create render pipeline:",error);console.error("[WASM] Descriptor used for render pipeline creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_compute_pipeline(device,layout,shader,entry){const dev=WebGPU.mgrDevice.get(device);const pipelineLayout=WebGPU.mgrPipelineLayout.get(layout);const shaderModule=WebGPU.mgrShaderModule.get(shader);const entryPoint=UTF8ToString(entry);if(!dev||!pipelineLayout||!shaderModule){console.error("[WASM] Invalid objects for compute pipeline creation");console.error("[WASM] dev:",!!dev,"pipelineLayout:",!!pipelineLayout,"shaderModule:",!!shaderModule);return 0}try{console.log("[WASM] Creating compute pipeline with layout and shader module")}catch(e){console.error("[WASM] Error during compute pipeline creation debugging:",e)}const descriptor={label:"Instance Expander Pipeline",layout:pipelineLayout,compute:{module:shaderModule,entryPoint}};try{const pipeline=dev.createComputePipeline(descriptor);return WebGPU.mgrComputePipeline.create(pipeline)}catch(error){console.error("[WASM] Failed to create compute pipeline:",error);console.error("[WASM] Descriptor used for pipeline creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_bind_group(device,layout,instance_buffer,instance_buffer_size,uniform_buffer){const dev=WebGPU.mgrDevice.get(device);const bindGroupLayout=WebGPU.mgrBindGroupLayout.get(layout);const instBuffer=WebGPU.mgrBuffer.get(instance_buffer);const unifBuffer=WebGPU.mgrBuffer.get(uniform_buffer);if(!dev||!bindGroupLayout||!instBuffer||!unifBuffer){console.error("[WASM] Invalid objects for bind group creation");return 0}const descriptor={label:"Unified Renderer Bind Group",layout:bindGroupLayout,entries:[{binding:0,resource:{buffer:instBuffer,offset:0,size:Number(instance_buffer_size)}},{binding:1,resource:{buffer:unifBuffer,offset:0,size:16}}]};try{const bindGroup=dev.createBindGroup(descriptor);return WebGPU.mgrBindGroup.create(bindGroup)}catch(error){console.error("[WASM] Failed to create bind group:",error);return 0}}function wasm_create_compute_bind_group(device,layout,instance_buffer,instance_buffer_size,vertex_buffer,vertex_buffer_size,uniform_buffer,uniform_buffer_size){const dev=WebGPU.mgrDevice.get(device);const bindGroupLayout=WebGPU.mgrBindGroupLayout.get(layout);const instanceBuffer=WebGPU.mgrBuffer.get(instance_buffer);const vertexBuffer=WebGPU.mgrBuffer.get(vertex_buffer);const uniformBuffer=WebGPU.mgrBuffer.get(uniform_buffer);if(!dev||!bindGroupLayout||!instanceBuffer||!vertexBuffer||!uniformBuffer){console.error("[WASM] Invalid objects for compute bind group creation");return 0}const descriptor={label:"Instance Expander Compute Bind Group",layout:bindGroupLayout,entries:[{binding:0,resource:{buffer:instanceBuffer,offset:0,size:Number(instance_buffer_size)}},{binding:1,resource:{buffer:vertexBuffer,offset:0,size:Number(vertex_buffer_size)}},{binding:2,resource:{buffer:uniformBuffer,offset:0,size:Number(uniform_buffer_size)}}]};try{const bindGroup=dev.createBindGroup(descriptor);return WebGPU.mgrBindGroup.create(bindGroup)}catch(error){console.error("[WASM] Failed to create compute bind group:",error);return 0}}function wasm_create_buffer(device,label,size,usage_flags){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);if(!dev){console.error("[WASM] Invalid device for buffer creation");return 0}let usage=0;if(usage_flags&1)usage|=GPUBufferUsage.STORAGE;if(usage_flags&2)usage|=GPUBufferUsage.UNIFORM;if(usage_flags&4)usage|=GPUBufferUsage.COPY_DST;if(usage_flags&8)usage|=GPUBufferUsage.VERTEX;const descriptor={label:labelStr,size:Number(size),usage,mappedAtCreation:false};try{const buffer=dev.createBuffer(descriptor);return WebGPU.mgrBuffer.create(buffer)}catch(error){console.error("[WASM] Failed to create buffer:",error);return 0}}function wasm_create_bind_group_layout(device,label,min_binding_size_0,min_binding_size_1){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);if(!dev){console.error("[WASM] Invalid device for bind group layout creation");return 0}const descriptor={label:labelStr,entries:[{binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage",hasDynamicOffset:false,minBindingSize:Number(min_binding_size_0)}},{binding:1,visibility:GPUShaderStage.VERTEX,buffer:{type:"uniform",hasDynamicOffset:false,minBindingSize:Number(min_binding_size_1)}}]};try{const layout=dev.createBindGroupLayout(descriptor);return WebGPU.mgrBindGroupLayout.create(layout)}catch(error){console.error("[WASM] Failed to create bind group layout:",error);console.error("[WASM] Descriptor used for bind group layout creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_compute_bind_group_layout(device,label,min_binding_size_0,min_binding_size_1,min_binding_size_2){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);if(!dev){console.error("[WASM] Invalid device for compute bind group layout creation");return 0}const descriptor={label:labelStr,entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage",hasDynamicOffset:false,minBindingSize:Number(min_binding_size_0)}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage",hasDynamicOffset:false,minBindingSize:Number(min_binding_size_1)}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform",hasDynamicOffset:false,minBindingSize:Number(min_binding_size_2)}}]};try{const layout=dev.createBindGroupLayout(descriptor);return WebGPU.mgrBindGroupLayout.create(layout)}catch(error){console.error("[WASM] Failed to create compute bind group layout:",error);console.error("[WASM] Descriptor used for compute bind group layout creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_shader_module(device,wgsl_code,label){const dev=WebGPU.mgrDevice.get(device);const code=UTF8ToString(wgsl_code);const labelStr=label?UTF8ToString(label):"Shader Module";if(!dev){console.error("[WASM] Invalid device for shader module creation");return 0}const descriptor={label:labelStr,code};try{const module=dev.createShaderModule(descriptor);return WebGPU.mgrShaderModule.create(module)}catch(error){console.error("[WASM] Failed to create shader module:",error);console.error("[WASM] Descriptor used for shader module creation:",JSON.stringify(descriptor,null,2));console.error("[WASM] Shader code (first 500 chars):",code.substring(0,500));return 0}}function wasm_create_sdf_bind_group_layout(device,label){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);if(!dev){console.error("[WASM] Invalid device for SDF bind group layout creation");return 0}const descriptor={label:labelStr,entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:false}},{binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{type:"filtering"}}]};try{const layout=dev.createBindGroupLayout(descriptor);return WebGPU.mgrBindGroupLayout.create(layout)}catch(error){console.error("[WASM] Failed to create SDF bind group layout:",error);console.error("[WASM] Descriptor used for SDF bind group layout creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_pipeline_layout(device,label,layout0,layout1){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);const bindGroupLayout0=WebGPU.mgrBindGroupLayout.get(layout0);const bindGroupLayout1=WebGPU.mgrBindGroupLayout.get(layout1);if(!dev||!bindGroupLayout0){console.error("[WASM] Invalid objects for pipeline layout creation");console.error("[WASM] dev:",!!dev,"bindGroupLayout0:",!!bindGroupLayout0,"bindGroupLayout1:",!!bindGroupLayout1);return 0}const descriptor={label:labelStr,bindGroupLayouts:[bindGroupLayout0,bindGroupLayout1]};try{const layout=dev.createPipelineLayout(descriptor);return WebGPU.mgrPipelineLayout.create(layout)}catch(error){console.error("[WASM] Failed to create pipeline layout:",error);console.error("[WASM] Descriptor used for pipeline layout creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_single_bind_group_pipeline_layout(device,label,layout){const dev=WebGPU.mgrDevice.get(device);const labelStr=UTF8ToString(label);const bindGroupLayout=WebGPU.mgrBindGroupLayout.get(layout);if(!dev||!bindGroupLayout){console.error("[WASM] Invalid objects for single bind group pipeline layout creation");console.error("[WASM] dev:",!!dev,"bindGroupLayout:",!!bindGroupLayout);return 0}const descriptor={label:labelStr,bindGroupLayouts:[bindGroupLayout]};try{const pipelineLayout=dev.createPipelineLayout(descriptor);return WebGPU.mgrPipelineLayout.create(pipelineLayout)}catch(error){console.error("[WASM] Failed to create single bind group pipeline layout:",error);console.error("[WASM] Descriptor used for pipeline layout creation:",JSON.stringify(descriptor,null,2));return 0}}function wasm_create_sampler(device,label){const dev=WebGPU.mgrDevice.get(device);const labelStr=label?UTF8ToString(label):"Sampler";if(!dev){console.error("[WASM] Invalid device for sampler creation");return 0}const descriptor={label:labelStr,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"linear",minFilter:"linear",mipmapFilter:"linear",lodMinClamp:0,lodMaxClamp:32,maxAnisotropy:1};try{const sampler=dev.createSampler(descriptor);return WebGPU.mgrSampler.create(sampler)}catch(error){console.error("[WASM] Failed to create sampler:",error);return 0}}function wasm_begin_render_pass(encoder,view_id,is_first_pass){const commandEncoder=WebGPU.mgrCommandEncoder.get(encoder);const textureView=window.WCNJS?.getWGPUTextureView(view_id);if(!commandEncoder){console.error("[WASM] Invalid command encoder for render pass creation");return 0}const descriptor={label:"WCN Render Pass",colorAttachments:[{view:textureView,loadOp:is_first_pass?"clear":"load",storeOp:"store",clearValue:{r:.9,g:.9,b:.9,a:1}}]};try{const renderPass=commandEncoder.beginRenderPass(descriptor);return WebGPU.mgrRenderPassEncoder.create(renderPass)}catch(error){console.error("[WASM] Failed to begin render pass:",error);return 0}}function wasm_create_sdf_bind_group(device,layout,texture_view,sampler){const dev=WebGPU.mgrDevice.get(device);const bindGroupLayout=WebGPU.mgrBindGroupLayout.get(layout);const texView=WebGPU.mgrTextureView.get(texture_view);const samp=WebGPU.mgrSampler.get(sampler);if(!dev||!bindGroupLayout||!texView||!samp){console.error("[WASM] Invalid objects for SDF bind group creation");return 0}const descriptor={label:"SDF Bind Group",layout:bindGroupLayout,entries:[{binding:0,resource:texView},{binding:1,resource:samp}]};try{const bindGroup=dev.createBindGroup(descriptor);return WebGPU.mgrBindGroup.create(bindGroup)}catch(error){console.error("[WASM] Failed to create SDF bind group:",error);return 0}}function Init_WCNJS(){if(window.WCNJS)return;window.WCNJS={}}function Init_WGPUTextureView_Map(){if(window.WCNJS?.WGPUTextureView_Map_Is_Init)return;const WGPUTextureView_Map=new Map;const WGPUTextureView_Free_List=[];let WGPUTextureView_next_id=1;function WGPUTextureView_store(view){let id;if(WGPUTextureView_Free_List.length>0){id=WGPUTextureView_Free_List.pop()}else{id=WGPUTextureView_next_id++}WGPUTextureView_Map.set(id,view);return id}function WGPUTextureView_get(id){return WGPUTextureView_Map.get(id)||null}function WGPUTextureView_free(id){if(WGPUTextureView_Map.has(id)){WGPUTextureView_Map.delete(id);WGPUTextureView_Free_List.push(id)}}window.WCNJS.WGPUTextureView_Map_Is_Init=true;window.WCNJS.storeWGPUTextureView=WGPUTextureView_store;window.WCNJS.freeWGPUTextureView=WGPUTextureView_free;window.WCNJS.getWGPUTextureView=WGPUTextureView_get}function freeWGPUTextureView(id){window.WCNJS?.freeWGPUTextureView?.(id)}function wasm_queue_write_texture(queue,texture,x,y,width,height,data,data_size){const queueObj=WebGPU.mgrQueue.get(queue);const textureObj=WebGPU.mgrTexture.get(texture);const sourceData=new Uint8Array(Module.HEAPU8.buffer,data,data_size);const destination={texture:textureObj,mipLevel:0,origin:{x,y,z:0},aspect:"all"};const layout={offset:0,bytesPerRow:width*4,rowsPerImage:height};const size={width,height,depthOrArrayLayers:1};queueObj.writeTexture(destination,sourceData,layout,size)}function js_load_font(font_name,font_size,out_js_font_object){const fontName=UTF8ToString(font_name);try{const fontObj={name:fontName,size:font_size,loaded:true};if(typeof window.WCNJS==="undefined"){window.WCNJS={}}if(typeof window.WCNJS.fonts==="undefined"){window.WCNJS.fonts={};window.WCNJS.nextFontId=1}const fontId=window.WCNJS.nextFontId++;window.WCNJS.fonts[fontId]=fontObj;setValue(out_js_font_object,fontId,"i32");return true}catch(error){return false}}function js_get_glyph(js_font_object,codepoint,out_js_glyph_object,out_advance_width,out_left_side_bearing,out_bounding_box){const fontId=js_font_object;try{const fontObj=window.WCNJS?.fonts?.[fontId];if(!fontObj){console.error("[WCN WASM] Font not found for ID:",fontId);return false}const glyphObj={codepoint,fontId,advanceWidth:12,leftSideBearing:1,boundingBox:[-1,-8,11,2]};if(typeof window.WCNJS.glyphs==="undefined"){window.WCNJS.glyphs={};window.WCNJS.nextGlyphId=1}const glyphId=window.WCNJS.nextGlyphId++;window.WCNJS.glyphs[glyphId]=glyphObj;setValue(out_js_glyph_object,glyphId,"i32");setValue(out_advance_width,glyphObj.advanceWidth,"float");setValue(out_left_side_bearing,glyphObj.leftSideBearing,"float");setValue(out_bounding_box,glyphObj.boundingBox[0],"float");setValue(out_bounding_box+4,glyphObj.boundingBox[1],"float");setValue(out_bounding_box+8,glyphObj.boundingBox[2],"float");setValue(out_bounding_box+12,glyphObj.boundingBox[3],"float");return true}catch(error){return false}}function js_get_glyph_sdf(js_font_object,codepoint,font_size,out_bitmap,out_width,out_height,out_offset_x,out_offset_y,out_advance){const fontId=js_font_object;try{const fontObj=window.WCNJS?.fonts?.[fontId];if(!fontObj){console.error("[WCN WASM] Font not found for ID:",fontId);return false}const width=32;const height=32;const bytesPerPixel=4;const bitmapSize=width*height*bytesPerPixel;const bitmapPtr=_malloc(bitmapSize);if(!bitmapPtr){return false}const heapU8=new Uint8Array(Module.HEAPU8.buffer,bitmapPtr,bitmapSize);for(let y=0;y<height;y++){for(let x=0;x<width;x++){const i=(y*width+x)*bytesPerPixel;const centerX=width/2;const centerY=height/2;const distance=Math.sqrt((x-centerX)*(x-centerX)+(y-centerY)*(y-centerY));const radius=Math.min(width,height)/3;const sdfValue=Math.max(0,Math.min(255,128-(distance-radius)*10));heapU8[i]=sdfValue;heapU8[i+1]=sdfValue;heapU8[i+2]=sdfValue;heapU8[i+3]=255}}setValue(out_bitmap,bitmapPtr,"i32");setValue(out_width,width,"i32");setValue(out_height,height,"i32");setValue(out_offset_x,0,"float");setValue(out_offset_y,0,"float");setValue(out_advance,12,"float");return true}catch(error){return false}}function js_free_glyph_sdf(bitmap){if(bitmap){_free(bitmap)}}function js_measure_text(js_font_object,text,font_size,out_width,out_height){const fontId=js_font_object;const textStr=UTF8ToString(text);try{const fontObj=window.WCNJS?.fonts?.[fontId];if(!fontObj){console.error("[WCN WASM] Font not found for ID:",fontId);return false}const avgCharWidth=12;const textWidth=textStr.length*avgCharWidth;const textHeight=font_size;setValue(out_width,textWidth,"float");setValue(out_height,textHeight,"float");return true}catch(error){return false}}function js_free_font(js_font_object){const fontId=js_font_object;if(window.WCNJS?.fonts?.[fontId]){delete window.WCNJS.fonts[fontId]}}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};function getValue_safe(ptr,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr];case"i8":return HEAP8[ptr];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP64[ptr>>3];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort(`invalid type for getValue: ${type}`)}}var noExitRuntime=Module["noExitRuntime"]||true;var ptrToString=ptr=>{assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0")};var setStackLimits=()=>{var stackLow=_emscripten_stack_get_base();var stackHigh=_emscripten_stack_get_end();___set_stack_limits(stackLow,stackHigh)};function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":SAFE_HEAP_STORE(ptr,value,1);checkInt8(value);break;case"i8":SAFE_HEAP_STORE(ptr,value,1);checkInt8(value);break;case"i16":SAFE_HEAP_STORE((ptr>>1)*2,value,2);checkInt16(value);break;case"i32":SAFE_HEAP_STORE((ptr>>2)*4,value,4);checkInt32(value);break;case"i64":HEAP64[ptr>>3]=BigInt(value);checkInt64(value);break;case"float":SAFE_HEAP_STORE_D((ptr>>2)*4,value,4);break;case"double":SAFE_HEAP_STORE_D((ptr>>3)*8,value,8);break;case"*":SAFE_HEAP_STORE((ptr>>2)*4,value,4);break;default:abort(`invalid type for setValue: ${type}`)}}function setValue_safe(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":HEAP8[ptr]=value;checkInt8(value);break;case"i8":HEAP8[ptr]=value;checkInt8(value);break;case"i16":HEAP16[ptr>>1]=value;checkInt16(value);break;case"i32":HEAP32[ptr>>2]=value;checkInt32(value);break;case"i64":HEAP64[ptr>>3]=BigInt(value);checkInt64(value);break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;case"*":HEAPU32[ptr>>2]=value;break;default:abort(`invalid type for setValue: ${type}`)}}var stackRestore=val=>__emscripten_stack_restore(val);var stackSave=()=>_emscripten_stack_get_current();var unSign=(value,bits)=>{if(value>=0){return value}return bits<=32?2*Math.abs(1<<bits-1)+value:Math.pow(2,bits)+value};var warnOnce=text=>{warnOnce.shown||={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}};var ___handle_stack_overflow=requested=>{var base=_emscripten_stack_get_base();var end=_emscripten_stack_get_end();abort(`stack overflow (Attempt to set SP to ${ptrToString(requested)}`+`, with stack limits [${ptrToString(end)} - ${ptrToString(base)}`+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")};var __abort_js=()=>abort("native code called abort()");var getHeapMax=()=>2147483648;var alignMemory=(size,alignment)=>{assert(alignment,"alignment argument is required");return Math.ceil(size/alignment)*alignment};var _emscripten_get_now=()=>performance.now();var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){err(`growMemory: Attempted to grow heap from ${b.byteLength} bytes to ${size} bytes, but got error: ${e}`)}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err(`Cannot enlarge memory, requested ${requestedSize} bytes, but the limit is ${maxHeapSize} bytes!`);return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var t0=_emscripten_get_now();var replacement=growMemory(newSize);var t1=_emscripten_get_now();dbg(`Heap resize call from ${oldSize} to ${newSize} took ${t1-t0} msecs. Success: ${!!replacement}`);if(replacement){return true}}err(`Failed to grow the heap from ${oldSize} bytes to ${newSize} bytes, not enough memory!`);return false};var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{assert(typeof str==="string",`stringToUTF8Array expects a string (got ${typeof str})`);if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>{assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)};var stackAlloc=sz=>__emscripten_stack_alloc(sz);var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var wasmTableMirror=[];var wasmTable;var getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];if(!func){if(funcPtr>=wasmTableMirror.length)wasmTableMirror.length=funcPtr+1;wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)}assert(wasmTable.get(funcPtr)==func,"JavaScript-side Wasm function table mirror is out of date!");return func};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder:undefined;var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>{assert(typeof ptr=="number",`UTF8ToString expects a number (got ${typeof ptr})`);return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""};var WebGPU={errorCallback:(callback,type,message,userdata)=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(message);getWasmTableEntry(callback)(type,messagePtr,userdata);stackRestore(sp)},initManagers:()=>{assert(!WebGPU.mgrDevice,"initManagers already called");function Manager(){this.objects={};this.nextId=1;this.create=function(object,wrapper={}){var id=this.nextId++;assert(typeof this.objects[id]=="undefined");wrapper.refcount=1;wrapper.object=object;this.objects[id]=wrapper;return id};this.get=function(id){if(!id)return undefined;var o=this.objects[id];assert(typeof o!="undefined");return o.object};this.reference=function(id){var o=this.objects[id];assert(typeof o!="undefined");o.refcount++};this.release=function(id){var o=this.objects[id];assert(typeof o!="undefined");assert(o.refcount>0);o.refcount--;if(o.refcount<=0){delete this.objects[id]}}}WebGPU.mgrSurface=new Manager;WebGPU.mgrSwapChain=new Manager;WebGPU.mgrAdapter=new Manager;WebGPU.mgrDevice=new Manager;WebGPU.mgrQueue=new Manager;WebGPU.mgrCommandBuffer=new Manager;WebGPU.mgrCommandEncoder=new Manager;WebGPU.mgrRenderPassEncoder=new Manager;WebGPU.mgrComputePassEncoder=new Manager;WebGPU.mgrBindGroup=new Manager;WebGPU.mgrBuffer=new Manager;WebGPU.mgrSampler=new Manager;WebGPU.mgrTexture=new Manager;WebGPU.mgrTextureView=new Manager;WebGPU.mgrQuerySet=new Manager;WebGPU.mgrBindGroupLayout=new Manager;WebGPU.mgrPipelineLayout=new Manager;WebGPU.mgrRenderPipeline=new Manager;WebGPU.mgrComputePipeline=new Manager;WebGPU.mgrShaderModule=new Manager;WebGPU.mgrRenderBundleEncoder=new Manager;WebGPU.mgrRenderBundle=new Manager},makeColor:ptr=>({r:SAFE_HEAP_LOAD_D((ptr>>3)*8,8,0),g:SAFE_HEAP_LOAD_D((ptr+8>>3)*8,8,0),b:SAFE_HEAP_LOAD_D((ptr+16>>3)*8,8,0),a:SAFE_HEAP_LOAD_D((ptr+24>>3)*8,8,0)}),makeExtent3D:ptr=>({width:SAFE_HEAP_LOAD((ptr>>2)*4,4,1),height:SAFE_HEAP_LOAD((ptr+4>>2)*4,4,1),depthOrArrayLayers:SAFE_HEAP_LOAD((ptr+8>>2)*4,4,1)}),makeOrigin3D:ptr=>({x:SAFE_HEAP_LOAD((ptr>>2)*4,4,1),y:SAFE_HEAP_LOAD((ptr+4>>2)*4,4,1),z:SAFE_HEAP_LOAD((ptr+8>>2)*4,4,1)}),makeImageCopyTexture:ptr=>{assert(ptr);assert(SAFE_HEAP_LOAD((ptr>>2)*4,4,1)===0);return{texture:WebGPU.mgrTexture.get(SAFE_HEAP_LOAD((ptr+4>>2)*4,4,1)),mipLevel:SAFE_HEAP_LOAD((ptr+8>>2)*4,4,1),origin:WebGPU.makeOrigin3D(ptr+12),aspect:WebGPU.TextureAspect[SAFE_HEAP_LOAD((ptr+24>>2)*4,4,1)]}},makeTextureDataLayout:ptr=>{assert(ptr);assert(SAFE_HEAP_LOAD((ptr>>2)*4,4,1)===0);var bytesPerRow=SAFE_HEAP_LOAD((ptr+16>>2)*4,4,1);var rowsPerImage=SAFE_HEAP_LOAD((ptr+20>>2)*4,4,1);return{offset:SAFE_HEAP_LOAD((ptr+4+8>>2)*4,4,1)*4294967296+SAFE_HEAP_LOAD((ptr+8>>2)*4,4,1),bytesPerRow:bytesPerRow===4294967295?undefined:bytesPerRow,rowsPerImage:rowsPerImage===4294967295?undefined:rowsPerImage}},makeImageCopyBuffer:ptr=>{assert(ptr);assert(SAFE_HEAP_LOAD((ptr>>2)*4,4,1)===0);var layoutPtr=ptr+8;var bufferCopyView=WebGPU.makeTextureDataLayout(layoutPtr);bufferCopyView["buffer"]=WebGPU.mgrBuffer.get(SAFE_HEAP_LOAD((ptr+32>>2)*4,4,1));return bufferCopyView},makePipelineConstants:(constantCount,constantsPtr)=>{if(!constantCount)return;var constants={};for(var i=0;i<constantCount;++i){var entryPtr=constantsPtr+16*i;var key=UTF8ToString(SAFE_HEAP_LOAD((entryPtr+4>>2)*4,4,1));constants[key]=SAFE_HEAP_LOAD_D((entryPtr+8>>3)*8,8,0)}return constants},makePipelineLayout:layoutPtr=>{if(!layoutPtr)return"auto";return WebGPU.mgrPipelineLayout.get(layoutPtr)},makeProgrammableStageDescriptor:ptr=>{if(!ptr)return undefined;assert(ptr);assert(SAFE_HEAP_LOAD((ptr>>2)*4,4,1)===0);var desc={module:WebGPU.mgrShaderModule.get(SAFE_HEAP_LOAD((ptr+4>>2)*4,4,1)),constants:WebGPU.makePipelineConstants(SAFE_HEAP_LOAD((ptr+12>>2)*4,4,1),SAFE_HEAP_LOAD((ptr+16>>2)*4,4,1))};var entryPointPtr=SAFE_HEAP_LOAD((ptr+8>>2)*4,4,1);if(entryPointPtr)desc["entryPoint"]=UTF8ToString(entryPointPtr);return desc},fillLimitStruct:(limits,supportedLimitsOutPtr)=>{var limitsOutPtr=supportedLimitsOutPtr+8;function setLimitValueU32(name,limitOffset){var limitValue=limits[name];SAFE_HEAP_STORE((limitsOutPtr+limitOffset>>2)*4,limitValue,4);checkInt32(limitValue)}function setLimitValueU64(name,limitOffset){var limitValue=limits[name];HEAP64[limitsOutPtr+limitOffset>>3]=BigInt(limitValue);checkInt64(limitValue)}setLimitValueU32("maxTextureDimension1D",0);setLimitValueU32("maxTextureDimension2D",4);setLimitValueU32("maxTextureDimension3D",8);setLimitValueU32("maxTextureArrayLayers",12);setLimitValueU32("maxBindGroups",16);setLimitValueU32("maxBindGroupsPlusVertexBuffers",20);setLimitValueU32("maxBindingsPerBindGroup",24);setLimitValueU32("maxDynamicUniformBuffersPerPipelineLayout",28);setLimitValueU32("maxDynamicStorageBuffersPerPipelineLayout",32);setLimitValueU32("maxSampledTexturesPerShaderStage",36);setLimitValueU32("maxSamplersPerShaderStage",40);setLimitValueU32("maxStorageBuffersPerShaderStage",44);setLimitValueU32("maxStorageTexturesPerShaderStage",48);setLimitValueU32("maxUniformBuffersPerShaderStage",52);setLimitValueU32("minUniformBufferOffsetAlignment",72);setLimitValueU32("minStorageBufferOffsetAlignment",76);setLimitValueU64("maxUniformBufferBindingSize",56);setLimitValueU64("maxStorageBufferBindingSize",64);setLimitValueU32("maxVertexBuffers",80);setLimitValueU64("maxBufferSize",88);setLimitValueU32("maxVertexAttributes",96);setLimitValueU32("maxVertexBufferArrayStride",100);setLimitValueU32("maxInterStageShaderComponents",104);setLimitValueU32("maxInterStageShaderVariables",108);setLimitValueU32("maxColorAttachments",112);setLimitValueU32("maxColorAttachmentBytesPerSample",116);setLimitValueU32("maxComputeWorkgroupStorageSize",120);setLimitValueU32("maxComputeInvocationsPerWorkgroup",124);setLimitValueU32("maxComputeWorkgroupSizeX",128);setLimitValueU32("maxComputeWorkgroupSizeY",132);setLimitValueU32("maxComputeWorkgroupSizeZ",136);setLimitValueU32("maxComputeWorkgroupsPerDimension",140)},Int_BufferMapState:{unmapped:1,pending:2,mapped:3},Int_CompilationMessageType:{error:1,warning:2,info:3},Int_DeviceLostReason:{undefined:1,unknown:1,destroyed:2},Int_PreferredFormat:{rgba8unorm:18,bgra8unorm:23},WGSLFeatureName:[,"readonly_and_readwrite_storage_textures","packed_4x8_integer_dot_product","unrestricted_pointer_parameters","pointer_composite_access"],AddressMode:[,"clamp-to-edge","repeat","mirror-repeat"],AlphaMode:[,"opaque","premultiplied"],BlendFactor:[,"zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"],BlendOperation:[,"add","subtract","reverse-subtract","min","max"],BufferBindingType:[,"uniform","storage","read-only-storage"],BufferMapState:{1:"unmapped",2:"pending",3:"mapped"},CompareFunction:[,"never","less","equal","less-equal","greater","not-equal","greater-equal","always"],CompilationInfoRequestStatus:["success","error","device-lost","unknown"],CullMode:[,"none","front","back"],ErrorFilter:{1:"validation",2:"out-of-memory",3:"internal"},FeatureName:[,"depth-clip-control","depth32float-stencil8","timestamp-query","texture-compression-bc","texture-compression-etc2","texture-compression-astc","indirect-first-instance","shader-f16","rg11b10ufloat-renderable","bgra8unorm-storage","float32-filterable"],FilterMode:[,"nearest","linear"],FrontFace:[,"ccw","cw"],IndexFormat:[,"uint16","uint32"],LoadOp:[,"clear","load"],MipmapFilterMode:[,"nearest","linear"],PowerPreference:[,"low-power","high-performance"],PrimitiveTopology:[,"point-list","line-list","line-strip","triangle-list","triangle-strip"],QueryType:{1:"occlusion",2:"timestamp"},SamplerBindingType:[,"filtering","non-filtering","comparison"],StencilOperation:[,"keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"],StorageTextureAccess:[,"write-only","read-only","read-write"],StoreOp:[,"store","discard"],TextureAspect:[,"all","stencil-only","depth-only"],TextureDimension:[,"1d","2d","3d"],TextureFormat:[,"r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32float","r32uint","r32sint","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rgb9e5ufloat","rg32float","rg32uint","rg32sint","rgba16uint","rgba16sint","rgba16float","rgba32float","rgba32uint","rgba32sint","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"],TextureSampleType:[,"float","unfilterable-float","depth","sint","uint"],TextureViewDimension:[,"1d","2d","2d-array","cube","cube-array","3d"],VertexFormat:[,"uint8x2","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2"],VertexStepMode:[,"vertex-buffer-not-used","vertex","instance"],FeatureNameString2Enum:{undefined:"0","depth-clip-control":"1","depth32float-stencil8":"2","timestamp-query":"3","texture-compression-bc":"4","texture-compression-etc2":"5","texture-compression-astc":"6","indirect-first-instance":"7","shader-f16":"8","rg11b10ufloat-renderable":"9","bgra8unorm-storage":"10","float32-filterable":"11"}};var _emscripten_webgpu_get_device=()=>{assert(Module["preinitializedWebGPUDevice"]);if(WebGPU.preinitializedDeviceId===undefined){var device=Module["preinitializedWebGPUDevice"];var deviceWrapper={queueId:WebGPU.mgrQueue.create(device["queue"])};WebGPU.preinitializedDeviceId=WebGPU.mgrDevice.create(device,deviceWrapper)}WebGPU.mgrDevice.reference(WebGPU.preinitializedDeviceId);return WebGPU.preinitializedDeviceId};var _fd_close=fd=>{abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")};var INT53_MAX=9007199254740992;var INT53_MIN=-9007199254740992;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);return 70}var printCharBuffers=[null,[],[]];var printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer));buffer.length=0}else{buffer.push(curr)}};var flush_NO_FILESYSTEM=()=>{_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10)};var _fd_write=(fd,iov,iovcnt,pnum)=>{var num=0;for(var i=0;i<iovcnt;i++){var ptr=SAFE_HEAP_LOAD((iov>>2)*4,4,1);var len=SAFE_HEAP_LOAD((iov+4>>2)*4,4,1);iov+=8;for(var j=0;j<len;j++){printChar(fd,SAFE_HEAP_LOAD(ptr+j,1,1))}num+=len}SAFE_HEAP_STORE((pnum>>2)*4,num,4);checkInt32(num);return 0};var _wgpuBindGroupLayoutRelease=id=>WebGPU.mgrBindGroupLayout.release(id);var _wgpuBindGroupRelease=id=>WebGPU.mgrBindGroup.release(id);var _wgpuBufferDestroy=bufferId=>{var bufferWrapper=WebGPU.mgrBuffer.objects[bufferId];assert(typeof bufferWrapper!="undefined");if(bufferWrapper.onUnmap){for(var i=0;i<bufferWrapper.onUnmap.length;++i){bufferWrapper.onUnmap[i]()}bufferWrapper.onUnmap=undefined}WebGPU.mgrBuffer.get(bufferId).destroy()};var _wgpuBufferRelease=id=>WebGPU.mgrBuffer.release(id);var _wgpuCommandBufferRelease=id=>WebGPU.mgrCommandBuffer.release(id);var _wgpuCommandEncoderBeginComputePass=(encoderId,descriptor)=>{var desc;function makeComputePassTimestampWrites(twPtr){if(twPtr===0)return undefined;return{querySet:WebGPU.mgrQuerySet.get(SAFE_HEAP_LOAD((twPtr>>2)*4,4,1)),beginningOfPassWriteIndex:SAFE_HEAP_LOAD((twPtr+4>>2)*4,4,1),endOfPassWriteIndex:SAFE_HEAP_LOAD((twPtr+8>>2)*4,4,1)}}if(descriptor){assert(descriptor);assert(SAFE_HEAP_LOAD((descriptor>>2)*4,4,1)===0);desc={label:undefined,timestampWrites:makeComputePassTimestampWrites(SAFE_HEAP_LOAD((descriptor+8>>2)*4,4,1))};var labelPtr=SAFE_HEAP_LOAD((descriptor+4>>2)*4,4,1);if(labelPtr)desc["label"]=UTF8ToString(labelPtr)}var commandEncoder=WebGPU.mgrCommandEncoder.get(encoderId);return WebGPU.mgrComputePassEncoder.create(commandEncoder.beginComputePass(desc))};var _wgpuCommandEncoderFinish=(encoderId,descriptor)=>{var commandEncoder=WebGPU.mgrCommandEncoder.get(encoderId);return WebGPU.mgrCommandBuffer.create(commandEncoder.finish())};var _wgpuCommandEncoderRelease=id=>WebGPU.mgrCommandEncoder.release(id);var _wgpuComputePassEncoderDispatchWorkgroups=(passId,x,y,z)=>{var pass=WebGPU.mgrComputePassEncoder.get(passId);pass.dispatchWorkgroups(x,y,z)};var _wgpuComputePassEncoderEnd=passId=>{var pass=WebGPU.mgrComputePassEncoder.get(passId);pass.end()};var _wgpuComputePassEncoderSetBindGroup=(passId,groupIndex,groupId,dynamicOffsetCount,dynamicOffsetsPtr)=>{var pass=WebGPU.mgrComputePassEncoder.get(passId);var group=WebGPU.mgrBindGroup.get(groupId);if(dynamicOffsetCount==0){pass.setBindGroup(groupIndex,group)}else{var offsets=[];for(var i=0;i<dynamicOffsetCount;i++,dynamicOffsetsPtr+=4){offsets.push(SAFE_HEAP_LOAD((dynamicOffsetsPtr>>2)*4,4,1))}pass.setBindGroup(groupIndex,group,offsets)}};var _wgpuComputePassEncoderSetPipeline=(passId,pipelineId)=>{var pass=WebGPU.mgrComputePassEncoder.get(passId);var pipeline=WebGPU.mgrComputePipeline.get(pipelineId);pass.setPipeline(pipeline)};var _wgpuComputePipelineRelease=id=>WebGPU.mgrComputePipeline.release(id);var _wgpuDeviceCreateCommandEncoder=(deviceId,descriptor)=>{var desc;if(descriptor){assert(descriptor);assert(SAFE_HEAP_LOAD((descriptor>>2)*4,4,1)===0);desc={label:undefined};var labelPtr=SAFE_HEAP_LOAD((descriptor+4>>2)*4,4,1);if(labelPtr)desc["label"]=UTF8ToString(labelPtr)}var device=WebGPU.mgrDevice.get(deviceId);return WebGPU.mgrCommandEncoder.create(device.createCommandEncoder(desc))};var _wgpuDeviceCreateTexture=(deviceId,descriptor)=>{assert(descriptor);assert(SAFE_HEAP_LOAD((descriptor>>2)*4,4,1)===0);var desc={label:undefined,size:WebGPU.makeExtent3D(descriptor+16),mipLevelCount:SAFE_HEAP_LOAD((descriptor+32>>2)*4,4,1),sampleCount:SAFE_HEAP_LOAD((descriptor+36>>2)*4,4,1),dimension:WebGPU.TextureDimension[SAFE_HEAP_LOAD((descriptor+12>>2)*4,4,1)],format:WebGPU.TextureFormat[SAFE_HEAP_LOAD((descriptor+28>>2)*4,4,1)],usage:SAFE_HEAP_LOAD((descriptor+8>>2)*4,4,1)};var labelPtr=SAFE_HEAP_LOAD((descriptor+4>>2)*4,4,1);if(labelPtr)desc["label"]=UTF8ToString(labelPtr);var viewFormatCount=SAFE_HEAP_LOAD((descriptor+40>>2)*4,4,1);if(viewFormatCount){var viewFormatsPtr=SAFE_HEAP_LOAD((descriptor+44>>2)*4,4,1);desc["viewFormats"]=Array.from(HEAP32.subarray(viewFormatsPtr>>2,viewFormatsPtr+viewFormatCount*4>>2),format=>WebGPU.TextureFormat[format])}var device=WebGPU.mgrDevice.get(deviceId);return WebGPU.mgrTexture.create(device.createTexture(desc))};var _wgpuDeviceGetQueue=deviceId=>{var queueId=WebGPU.mgrDevice.objects[deviceId].queueId;assert(queueId,"wgpuDeviceGetQueue: queue was missing or null");WebGPU.mgrQueue.reference(queueId);return queueId};var _wgpuDeviceRelease=id=>WebGPU.mgrDevice.release(id);var _wgpuPipelineLayoutRelease=id=>WebGPU.mgrPipelineLayout.release(id);var _wgpuQueueRelease=id=>WebGPU.mgrQueue.release(id);var _wgpuQueueSubmit=(queueId,commandCount,commands)=>{assert(commands%4===0);var queue=WebGPU.mgrQueue.get(queueId);var cmds=Array.from(HEAP32.subarray(commands>>2,commands+commandCount*4>>2),id=>WebGPU.mgrCommandBuffer.get(id));queue.submit(cmds)};function _wgpuQueueWriteBuffer(queueId,bufferId,bufferOffset,data,size){bufferOffset=bigintToI53Checked(bufferOffset);var queue=WebGPU.mgrQueue.get(queueId);var buffer=WebGPU.mgrBuffer.get(bufferId);var subarray=HEAPU8.subarray(data,data+size);queue.writeBuffer(buffer,bufferOffset,subarray,0,size)}var _wgpuRenderPassEncoderDraw=(passId,vertexCount,instanceCount,firstVertex,firstInstance)=>{var pass=WebGPU.mgrRenderPassEncoder.get(passId);pass.draw(vertexCount,instanceCount,firstVertex,firstInstance)};var _wgpuRenderPassEncoderEnd=encoderId=>{var encoder=WebGPU.mgrRenderPassEncoder.get(encoderId);encoder.end()};var _wgpuRenderPassEncoderRelease=id=>WebGPU.mgrRenderPassEncoder.release(id);var _wgpuRenderPassEncoderSetBindGroup=(passId,groupIndex,groupId,dynamicOffsetCount,dynamicOffsetsPtr)=>{var pass=WebGPU.mgrRenderPassEncoder.get(passId);var group=WebGPU.mgrBindGroup.get(groupId);if(dynamicOffsetCount==0){pass.setBindGroup(groupIndex,group)}else{var offsets=[];for(var i=0;i<dynamicOffsetCount;i++,dynamicOffsetsPtr+=4){offsets.push(SAFE_HEAP_LOAD((dynamicOffsetsPtr>>2)*4,4,1))}pass.setBindGroup(groupIndex,group,offsets)}};var _wgpuRenderPassEncoderSetPipeline=(passId,pipelineId)=>{var pass=WebGPU.mgrRenderPassEncoder.get(passId);var pipeline=WebGPU.mgrRenderPipeline.get(pipelineId);pass.setPipeline(pipeline)};function _wgpuRenderPassEncoderSetVertexBuffer(passId,slot,bufferId,offset,size){offset=bigintToI53Checked(offset);size=bigintToI53Checked(size);var pass=WebGPU.mgrRenderPassEncoder.get(passId);var buffer=WebGPU.mgrBuffer.get(bufferId);if(size==-1)size=undefined;pass.setVertexBuffer(slot,buffer,offset,size)}var _wgpuRenderPipelineRelease=id=>WebGPU.mgrRenderPipeline.release(id);var _wgpuSamplerRelease=id=>WebGPU.mgrSampler.release(id);var _wgpuShaderModuleRelease=id=>WebGPU.mgrShaderModule.release(id);var _wgpuSurfaceRelease=id=>WebGPU.mgrSurface.release(id);var _wgpuTextureCreateView=(textureId,descriptor)=>{var desc;if(descriptor){assert(descriptor);assert(SAFE_HEAP_LOAD((descriptor>>2)*4,4,1)===0);var mipLevelCount=SAFE_HEAP_LOAD((descriptor+20>>2)*4,4,1);var arrayLayerCount=SAFE_HEAP_LOAD((descriptor+28>>2)*4,4,1);desc={format:WebGPU.TextureFormat[SAFE_HEAP_LOAD((descriptor+8>>2)*4,4,1)],dimension:WebGPU.TextureViewDimension[SAFE_HEAP_LOAD((descriptor+12>>2)*4,4,1)],baseMipLevel:SAFE_HEAP_LOAD((descriptor+16>>2)*4,4,1),mipLevelCount:mipLevelCount===4294967295?undefined:mipLevelCount,baseArrayLayer:SAFE_HEAP_LOAD((descriptor+24>>2)*4,4,1),arrayLayerCount:arrayLayerCount===4294967295?undefined:arrayLayerCount,aspect:WebGPU.TextureAspect[SAFE_HEAP_LOAD((descriptor+32>>2)*4,4,1)]};var labelPtr=SAFE_HEAP_LOAD((descriptor+4>>2)*4,4,1);if(labelPtr)desc["label"]=UTF8ToString(labelPtr)}var texture=WebGPU.mgrTexture.get(textureId);return WebGPU.mgrTextureView.create(texture.createView(desc))};var _wgpuTextureRelease=id=>WebGPU.mgrTexture.release(id);var _wgpuTextureViewRelease=id=>WebGPU.mgrTextureView.release(id);var getCFunc=ident=>{var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func};var writeArrayToMemory=(array,buffer)=>{assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)};var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},array:arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func(...cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}ret=onDone(ret);return ret};var cwrap=(ident,returnType,argTypes,opts)=>(...args)=>ccall(ident,returnType,argTypes,args,opts);WebGPU.initManagers();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings")}var wasmImports={Init_WCNJS,Init_WGPUTextureView_Map,__handle_stack_overflow:___handle_stack_overflow,_abort_js:__abort_js,alignfault,emscripten_resize_heap:_emscripten_resize_heap,emscripten_webgpu_get_device:_emscripten_webgpu_get_device,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,freeWGPUTextureView,js_free_font,js_free_glyph_sdf,js_get_glyph,js_get_glyph_sdf,js_load_font,js_measure_text,segfault,wasm_begin_render_pass,wasm_create_bind_group,wasm_create_bind_group_layout,wasm_create_buffer,wasm_create_compute_bind_group,wasm_create_compute_bind_group_layout,wasm_create_compute_pipeline,wasm_create_pipeline_layout,wasm_create_render_pipeline,wasm_create_sampler,wasm_create_sdf_bind_group,wasm_create_sdf_bind_group_layout,wasm_create_shader_module,wasm_create_single_bind_group_pipeline_layout,wasm_queue_write_texture,wgpuBindGroupLayoutRelease:_wgpuBindGroupLayoutRelease,wgpuBindGroupRelease:_wgpuBindGroupRelease,wgpuBufferDestroy:_wgpuBufferDestroy,wgpuBufferRelease:_wgpuBufferRelease,wgpuCommandBufferRelease:_wgpuCommandBufferRelease,wgpuCommandEncoderBeginComputePass:_wgpuCommandEncoderBeginComputePass,wgpuCommandEncoderFinish:_wgpuCommandEncoderFinish,wgpuCommandEncoderRelease:_wgpuCommandEncoderRelease,wgpuComputePassEncoderDispatchWorkgroups:_wgpuComputePassEncoderDispatchWorkgroups,wgpuComputePassEncoderEnd:_wgpuComputePassEncoderEnd,wgpuComputePassEncoderSetBindGroup:_wgpuComputePassEncoderSetBindGroup,wgpuComputePassEncoderSetPipeline:_wgpuComputePassEncoderSetPipeline,wgpuComputePipelineRelease:_wgpuComputePipelineRelease,wgpuDeviceCreateCommandEncoder:_wgpuDeviceCreateCommandEncoder,wgpuDeviceCreateTexture:_wgpuDeviceCreateTexture,wgpuDeviceGetQueue:_wgpuDeviceGetQueue,wgpuDeviceRelease:_wgpuDeviceRelease,wgpuPipelineLayoutRelease:_wgpuPipelineLayoutRelease,wgpuQueueRelease:_wgpuQueueRelease,wgpuQueueSubmit:_wgpuQueueSubmit,wgpuQueueWriteBuffer:_wgpuQueueWriteBuffer,wgpuRenderPassEncoderDraw:_wgpuRenderPassEncoderDraw,wgpuRenderPassEncoderEnd:_wgpuRenderPassEncoderEnd,wgpuRenderPassEncoderRelease:_wgpuRenderPassEncoderRelease,wgpuRenderPassEncoderSetBindGroup:_wgpuRenderPassEncoderSetBindGroup,wgpuRenderPassEncoderSetPipeline:_wgpuRenderPassEncoderSetPipeline,wgpuRenderPassEncoderSetVertexBuffer:_wgpuRenderPassEncoderSetVertexBuffer,wgpuRenderPipelineRelease:_wgpuRenderPipelineRelease,wgpuSamplerRelease:_wgpuSamplerRelease,wgpuShaderModuleRelease:_wgpuShaderModuleRelease,wgpuSurfaceRelease:_wgpuSurfaceRelease,wgpuTextureCreateView:_wgpuTextureCreateView,wgpuTextureRelease:_wgpuTextureRelease,wgpuTextureViewRelease:_wgpuTextureViewRelease};var wasmExports=await createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors",0);var _wcn_create_context=Module["_wcn_create_context"]=createExportWrapper("wcn_create_context",1);var _free=Module["_free"]=createExportWrapper("free",1);var _malloc=Module["_malloc"]=createExportWrapper("malloc",1);var _wcn_destroy_context=Module["_wcn_destroy_context"]=createExportWrapper("wcn_destroy_context",1);var _wcn_begin_frame=Module["_wcn_begin_frame"]=createExportWrapper("wcn_begin_frame",4);var _wcn_end_frame=Module["_wcn_end_frame"]=createExportWrapper("wcn_end_frame",1);var _wcn_end_render_pass=Module["_wcn_end_render_pass"]=createExportWrapper("wcn_end_render_pass",1);var _wcn_submit_commands=Module["_wcn_submit_commands"]=createExportWrapper("wcn_submit_commands",1);var _wcn_save=Module["_wcn_save"]=createExportWrapper("wcn_save",1);var _wcn_restore=Module["_wcn_restore"]=createExportWrapper("wcn_restore",1);var _wcn_register_font_decoder=Module["_wcn_register_font_decoder"]=createExportWrapper("wcn_register_font_decoder",2);var _wcn_register_image_decoder=Module["_wcn_register_image_decoder"]=createExportWrapper("wcn_register_image_decoder",2);var _wcn_get_surface_format=Module["_wcn_get_surface_format"]=createExportWrapper("wcn_get_surface_format",1);var _wcn_set_surface_format=Module["_wcn_set_surface_format"]=createExportWrapper("wcn_set_surface_format",2);var _wcn_init_js=Module["_wcn_init_js"]=createExportWrapper("wcn_init_js",0);var _wcn_begin_path=Module["_wcn_begin_path"]=createExportWrapper("wcn_begin_path",1);var _wcn_close_path=Module["_wcn_close_path"]=createExportWrapper("wcn_close_path",1);var _wcn_move_to=Module["_wcn_move_to"]=createExportWrapper("wcn_move_to",3);var _wcn_line_to=Module["_wcn_line_to"]=createExportWrapper("wcn_line_to",3);var _wcn_arc=Module["_wcn_arc"]=createExportWrapper("wcn_arc",7);var _wcn_rect=Module["_wcn_rect"]=createExportWrapper("wcn_rect",5);var _wcn_fill=Module["_wcn_fill"]=createExportWrapper("wcn_fill",1);var _wcn_stroke=Module["_wcn_stroke"]=createExportWrapper("wcn_stroke",1);var _wcn_clear_rect=Module["_wcn_clear_rect"]=createExportWrapper("wcn_clear_rect",5);var _wcn_fill_rect=Module["_wcn_fill_rect"]=createExportWrapper("wcn_fill_rect",5);var _wcn_stroke_rect=Module["_wcn_stroke_rect"]=createExportWrapper("wcn_stroke_rect",5);var _wcn_begin_render_pass=Module["_wcn_begin_render_pass"]=createExportWrapper("wcn_begin_render_pass",2);var _wcn_set_fill_style=Module["_wcn_set_fill_style"]=createExportWrapper("wcn_set_fill_style",2);var _wcn_set_stroke_style=Module["_wcn_set_stroke_style"]=createExportWrapper("wcn_set_stroke_style",2);var _wcn_set_line_width=Module["_wcn_set_line_width"]=createExportWrapper("wcn_set_line_width",2);var _wcn_set_line_cap=Module["_wcn_set_line_cap"]=createExportWrapper("wcn_set_line_cap",2);var _wcn_set_line_join=Module["_wcn_set_line_join"]=createExportWrapper("wcn_set_line_join",2);var _wcn_set_miter_limit=Module["_wcn_set_miter_limit"]=createExportWrapper("wcn_set_miter_limit",2);var _wcn_set_global_alpha=Module["_wcn_set_global_alpha"]=createExportWrapper("wcn_set_global_alpha",2);var _wcn_set_global_composite_operation=Module["_wcn_set_global_composite_operation"]=createExportWrapper("wcn_set_global_composite_operation",2);var _wcn_fill_text=Module["_wcn_fill_text"]=createExportWrapper("wcn_fill_text",4);var _wcn_measure_text=Module["_wcn_measure_text"]=createExportWrapper("wcn_measure_text",3);var _wcn_stroke_text=Module["_wcn_stroke_text"]=createExportWrapper("wcn_stroke_text",4);var _wcn_set_font=Module["_wcn_set_font"]=createExportWrapper("wcn_set_font",2);var _wcn_set_font_face=Module["_wcn_set_font_face"]=createExportWrapper("wcn_set_font_face",3);var _wcn_set_text_align=Module["_wcn_set_text_align"]=createExportWrapper("wcn_set_text_align",2);var _wcn_set_text_baseline=Module["_wcn_set_text_baseline"]=createExportWrapper("wcn_set_text_baseline",2);var _wcn_translate=Module["_wcn_translate"]=createExportWrapper("wcn_translate",3);var _wcn_rotate=Module["_wcn_rotate"]=createExportWrapper("wcn_rotate",2);var _wcn_scale=Module["_wcn_scale"]=createExportWrapper("wcn_scale",3);var _wcn_transform=Module["_wcn_transform"]=createExportWrapper("wcn_transform",7);var _wcn_set_transform=Module["_wcn_set_transform"]=createExportWrapper("wcn_set_transform",7);var _wcn_reset_transform=Module["_wcn_reset_transform"]=createExportWrapper("wcn_reset_transform",1);var _wcn_wasm_malloc=Module["_wcn_wasm_malloc"]=createExportWrapper("wcn_wasm_malloc",1);var _wcn_wasm_free=Module["_wcn_wasm_free"]=createExportWrapper("wcn_wasm_free",1);var _wcn_wasm_get_version=Module["_wcn_wasm_get_version"]=createExportWrapper("wcn_wasm_get_version",0);var _wcn_wasm_create_gpu_resources=Module["_wcn_wasm_create_gpu_resources"]=createExportWrapper("wcn_wasm_create_gpu_resources",4);var _wcn_wasm_create_gpu_resources_auto=Module["_wcn_wasm_create_gpu_resources_auto"]=createExportWrapper("wcn_wasm_create_gpu_resources_auto",0);var _wcn_wasm_free_gpu_resources=Module["_wcn_wasm_free_gpu_resources"]=createExportWrapper("wcn_wasm_free_gpu_resources",1);var _wcn_wasm_create_image_data=Module["_wcn_wasm_create_image_data"]=createExportWrapper("wcn_wasm_create_image_data",3);var _wcn_wasm_free_image_data=Module["_wcn_wasm_free_image_data"]=createExportWrapper("wcn_wasm_free_image_data",1);var _wcn_wasm_get_image_data_buffer=Module["_wcn_wasm_get_image_data_buffer"]=createExportWrapper("wcn_wasm_get_image_data_buffer",1);var _wcn_wasm_get_image_data_size=Module["_wcn_wasm_get_image_data_size"]=createExportWrapper("wcn_wasm_get_image_data_size",1);var _wcn_wasm_text_align_left=Module["_wcn_wasm_text_align_left"]=createExportWrapper("wcn_wasm_text_align_left",0);var _wcn_wasm_text_align_center=Module["_wcn_wasm_text_align_center"]=createExportWrapper("wcn_wasm_text_align_center",0);var _wcn_wasm_text_align_right=Module["_wcn_wasm_text_align_right"]=createExportWrapper("wcn_wasm_text_align_right",0);var _wcn_wasm_text_baseline_top=Module["_wcn_wasm_text_baseline_top"]=createExportWrapper("wcn_wasm_text_baseline_top",0);var _wcn_wasm_text_baseline_middle=Module["_wcn_wasm_text_baseline_middle"]=createExportWrapper("wcn_wasm_text_baseline_middle",0);var _wcn_wasm_text_baseline_bottom=Module["_wcn_wasm_text_baseline_bottom"]=createExportWrapper("wcn_wasm_text_baseline_bottom",0);var _wcn_wasm_text_baseline_alphabetic=Module["_wcn_wasm_text_baseline_alphabetic"]=createExportWrapper("wcn_wasm_text_baseline_alphabetic",0);var _wcn_wasm_line_cap_butt=Module["_wcn_wasm_line_cap_butt"]=createExportWrapper("wcn_wasm_line_cap_butt",0);var _wcn_wasm_line_cap_round=Module["_wcn_wasm_line_cap_round"]=createExportWrapper("wcn_wasm_line_cap_round",0);var _wcn_wasm_line_cap_square=Module["_wcn_wasm_line_cap_square"]=createExportWrapper("wcn_wasm_line_cap_square",0);var _wcn_wasm_line_join_miter=Module["_wcn_wasm_line_join_miter"]=createExportWrapper("wcn_wasm_line_join_miter",0);var _wcn_wasm_line_join_round=Module["_wcn_wasm_line_join_round"]=createExportWrapper("wcn_wasm_line_join_round",0);var _wcn_wasm_line_join_bevel=Module["_wcn_wasm_line_join_bevel"]=createExportWrapper("wcn_wasm_line_join_bevel",0);var _wcn_wasm_composite_source_over=Module["_wcn_wasm_composite_source_over"]=createExportWrapper("wcn_wasm_composite_source_over",0);var _wcn_wasm_composite_source_in=Module["_wcn_wasm_composite_source_in"]=createExportWrapper("wcn_wasm_composite_source_in",0);var _wcn_wasm_composite_source_out=Module["_wcn_wasm_composite_source_out"]=createExportWrapper("wcn_wasm_composite_source_out",0);var _wcn_wasm_composite_source_atop=Module["_wcn_wasm_composite_source_atop"]=createExportWrapper("wcn_wasm_composite_source_atop",0);var _wcn_wasm_composite_destination_over=Module["_wcn_wasm_composite_destination_over"]=createExportWrapper("wcn_wasm_composite_destination_over",0);var _wcn_wasm_composite_destination_in=Module["_wcn_wasm_composite_destination_in"]=createExportWrapper("wcn_wasm_composite_destination_in",0);var _wcn_wasm_composite_destination_out=Module["_wcn_wasm_composite_destination_out"]=createExportWrapper("wcn_wasm_composite_destination_out",0);var _wcn_wasm_composite_destination_atop=Module["_wcn_wasm_composite_destination_atop"]=createExportWrapper("wcn_wasm_composite_destination_atop",0);var _wcn_wasm_composite_lighter=Module["_wcn_wasm_composite_lighter"]=createExportWrapper("wcn_wasm_composite_lighter",0);var _wcn_wasm_composite_copy=Module["_wcn_wasm_composite_copy"]=createExportWrapper("wcn_wasm_composite_copy",0);var _wcn_wasm_composite_xor=Module["_wcn_wasm_composite_xor"]=createExportWrapper("wcn_wasm_composite_xor",0);var _wcn_wasm_get_font_decoder=Module["_wcn_wasm_get_font_decoder"]=createExportWrapper("wcn_wasm_get_font_decoder",0);var _wcn_wasm_create_default_font_face=Module["_wcn_wasm_create_default_font_face"]=createExportWrapper("wcn_wasm_create_default_font_face",0);var _fflush=createExportWrapper("fflush",1);var _strerror=createExportWrapper("strerror",1);var _sbrk=createExportWrapper("sbrk",1);var _emscripten_get_sbrk_ptr=createExportWrapper("emscripten_get_sbrk_ptr",0);var _emscripten_stack_init=wasmExports["emscripten_stack_init"];var _emscripten_stack_get_free=wasmExports["emscripten_stack_get_free"];var _emscripten_stack_get_base=wasmExports["emscripten_stack_get_base"];var _emscripten_stack_get_end=wasmExports["emscripten_stack_get_end"];var __emscripten_stack_restore=wasmExports["_emscripten_stack_restore"];var __emscripten_stack_alloc=wasmExports["_emscripten_stack_alloc"];var _emscripten_stack_get_current=wasmExports["emscripten_stack_get_current"];var ___set_stack_limits=Module["___set_stack_limits"]=createExportWrapper("__set_stack_limits",2);Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["UTF8ToString"]=UTF8ToString;Module["stringToUTF8"]=stringToUTF8;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","setTempRet0","zeroMemory","exitJS","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","ptrToString","getHeapMax","growMemory","ENV","setStackLimits","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","alignMemory","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","unSign","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","WebGPU","JsValStore","allocateUTF8","allocateUTF8OnStack","print","printErr"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}stackCheckInit();preRun();if(runDependencies>0){dependenciesFulfilled=run;return}function doRun(){assert(!calledRun);calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);Module["onRuntimeInitialized"]?.();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(()=>{setTimeout(()=>Module["setStatus"](""),1);doRun()},1)}else{doRun()}checkStackCookie()}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();moduleRtn=readyPromise;for(const prop of Object.keys(Module)){if(!(prop in moduleArg)){Object.defineProperty(moduleArg,prop,{configurable:true,get(){abort(`Access to module property ('${prop}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}})}}


  return moduleRtn;
}
);
})();
(() => {
  // Create a small, never-async wrapper around createWCNModule which
  // checks for callers incorrectly using it with `new`.
  var real_createWCNModule = createWCNModule;
  createWCNModule = function(arg) {
    if (new.target) throw new Error("createWCNModule() should not be called with `new createWCNModule()`");
    return real_createWCNModule(arg);
  }
})();
if (typeof exports === 'object' && typeof module === 'object') {
  module.exports = createWCNModule;
  // This default export looks redundant, but it allows TS to import this
  // commonjs style module.
  module.exports.default = createWCNModule;
} else if (typeof define === 'function' && define['amd'])
  define([], () => createWCNModule);
